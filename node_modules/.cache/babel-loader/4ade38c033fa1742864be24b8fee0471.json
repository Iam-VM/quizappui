{"ast":null,"code":"import _slicedToArray from\"/home/vm/Desktop/Projects/quizApp/quizappui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import Question from\"./question\";import OptionInstant from\"./optionInstant\";import QuestionCount from\"./questionCount\";import TimeOut from\"./timeOut\";import'./playQuestion.css';import crypto from'crypto';var GameRenderer=function GameRenderer(props){var _useState=useState(props.stateData.questions[props.progress]!==undefined?props.stateData.questions[props.progress].time:null),_useState2=_slicedToArray(_useState,2),timer=_useState2[0],setTimer=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),timeOut=_useState4[0],setTimeOut=_useState4[1];useEffect(function(){var id;if(timer!==null){if(timer>0){id=setInterval(function(){return setTimer(timer-1);},1200);}if(timer===0){setTimeOut(true);}}return function(){clearInterval(id);};},[timer]);var refreshTimer=function refreshTimer(){if(props.questionNumber<props.stateData.questions.length){setTimer(props.stateData.questions[props.progress+1].time);}};var handleAnswerTextSubmit=function handleAnswerTextSubmit(e){e.preventDefault();var netTime=props.stateData.questions[props.progress]!==undefined?props.stateData.questions[props.progress].time:null;var ratio=timer/netTime;props.checkAnswer(e.target.elements.answerText.value,ratio,props.questionNumber);e.target.elements.answerText.value='';refreshTimer();};var checkAnswer=function checkAnswer(optionText,nullParam){props.checkAnswer(optionText,nullParam,props.questionNumber);setTimeout(function(){return setTimeOut(false);},1000);if(props.questionNumber<props.stateData.questions.length){setTimer(props.stateData.questions[props.progress+1].time);}};if(timeOut){return/*#__PURE__*/React.createElement(TimeOut,{time:4,checkAnswer:checkAnswer});}return/*#__PURE__*/React.createElement(\"div\",{className:'gameRenderer'},/*#__PURE__*/React.createElement(\"div\",{className:'questionHead'},/*#__PURE__*/React.createElement(\"div\",{className:'questionSubHead'},/*#__PURE__*/React.createElement(\"span\",{className:'questionHeadText'},\"Question: \"),/*#__PURE__*/React.createElement(QuestionCount,{questionNumber:props.questionNumber,totalQuestions:props.stateData.questions.length})),/*#__PURE__*/React.createElement(\"div\",{className:'timerContainer'},/*#__PURE__*/React.createElement(\"span\",{className:'timerHead'},\"Timer\"),/*#__PURE__*/React.createElement(\"div\",{className:'timer'},/*#__PURE__*/React.createElement(\"span\",{className:'timerTimeMin'},\"\".concat(Math.floor(timer/60)<10?0:'').concat(Math.floor(timer/60))),/*#__PURE__*/React.createElement(\"span\",{className:'timerMinSecSeparator'},\":\"),/*#__PURE__*/React.createElement(\"span\",{className:'timerTimeSec'},\"\".concat(timer-Math.floor(timer/60)*60<10?0:'').concat(timer-Math.floor(timer/60)*60))),/*#__PURE__*/React.createElement(\"div\",{className:'timerUnderLine'}))),/*#__PURE__*/React.createElement(Question,{question:props.questionText}),props.haveImage==='TRUE'?/*#__PURE__*/React.createElement(\"img\",{src:\"https://quizapp-server.herokuapp.com/\".concat(props.questionNumber,\".jpg\"),className:'questionImage',alt:'image'}):null,props.haveOptions==='TRUE'?/*#__PURE__*/React.createElement(\"div\",{className:'optionsContainer'},/*#__PURE__*/React.createElement(\"ul\",{className:'options'},props.options.map(function(option){return/*#__PURE__*/React.createElement(OptionInstant,{timer:timer,netTime:props.stateData.questions[props.progress]!==undefined?props.stateData.questions[props.progress].time:null,refreshTimer:refreshTimer,checkAnswer:props.checkAnswer,optionText:option,questionNumber:props.questionNumber});}))):/*#__PURE__*/React.createElement(\"div\",{className:'answerTextContainer'},/*#__PURE__*/React.createElement(\"form\",{className:'answerTextForm',onSubmit:handleAnswerTextSubmit},/*#__PURE__*/React.createElement(\"label\",{className:'answerTextLabel'},\"Answer : \"),/*#__PURE__*/React.createElement(\"input\",{type:'text',className:'answerTextInput',id:'answerText',name:crypto.randomBytes(8).toString('hex')}),/*#__PURE__*/React.createElement(\"button\",{type:'submit',value:'submitAnswer',className:'button answerSubmitButton'},\"Submit Answer\"))));};export default GameRenderer;","map":{"version":3,"sources":["/home/vm/Desktop/Projects/quizApp/quizappui/src/components/playComponents/gameRenderer.js"],"names":["React","useState","useEffect","Question","OptionInstant","QuestionCount","TimeOut","crypto","GameRenderer","props","stateData","questions","progress","undefined","time","timer","setTimer","timeOut","setTimeOut","id","setInterval","clearInterval","refreshTimer","questionNumber","length","handleAnswerTextSubmit","e","preventDefault","netTime","ratio","checkAnswer","target","elements","answerText","value","optionText","nullParam","setTimeout","Math","floor","questionText","haveImage","haveOptions","options","map","option","randomBytes","toString"],"mappings":"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","sourcesContent":["import React,{useState, useEffect} from 'react';\nimport Question from \"./question\";\nimport OptionInstant from \"./optionInstant\";\nimport QuestionCount from \"./questionCount\";\nimport TimeOut from \"./timeOut\";\nimport './playQuestion.css';\nimport crypto from 'crypto';\n\n\n\nconst GameRenderer = (props) => {\n    const [timer, setTimer] = useState(props.stateData.questions[props.progress] !== undefined ? props.stateData.questions[props.progress].time : null);\n    const [timeOut, setTimeOut] = useState(false);\n\n    useEffect(() => {\n        let id;\n        if (timer !== null) {\n            if (timer > 0){\n                id = setInterval(() => setTimer(timer-1), 1200);\n            }\n            if (timer === 0) {\n                setTimeOut(true);\n            }\n        }\n\n\n        return () => {\n            clearInterval(id);\n        };\n    }, [timer]);\n\n\n    const refreshTimer = () => {\n        if (props.questionNumber < props.stateData.questions.length) {\n            setTimer(props.stateData.questions[props.progress + 1].time);\n        }\n    };\n\n    const handleAnswerTextSubmit = (e) => {\n        e.preventDefault();\n        let netTime = (props.stateData.questions[props.progress] !== undefined) ? props.stateData.questions[props.progress].time : null;\n        let ratio = timer/netTime;\n        props.checkAnswer(e.target.elements.answerText.value, ratio, props.questionNumber);\n        e.target.elements.answerText.value = '';\n        refreshTimer();\n    };\n\n    const checkAnswer = (optionText, nullParam) => {\n        props.checkAnswer(optionText, nullParam, props.questionNumber);\n        setTimeout(() => setTimeOut(false), 1000);\n        if (props.questionNumber < props.stateData.questions.length) {\n            setTimer(props.stateData.questions[props.progress + 1].time);\n        }\n    };\n\n    if (timeOut) {\n        return <TimeOut time={4} checkAnswer={checkAnswer} />;\n    }\n\n    return(\n        <div className={'gameRenderer'}>\n                <div className={'questionHead'}>\n                    <div className={'questionSubHead'}>\n                        <span className={'questionHeadText'}>Question: </span>\n                        <QuestionCount questionNumber={props.questionNumber} totalQuestions={props.stateData.questions.length}/>\n                    </div>\n                    <div className={'timerContainer'}>\n                        <span className={'timerHead'}>Timer</span>\n                        <div className={'timer'}>\n                        \t<span className={'timerTimeMin'}>{`${(Math.floor(timer/60)) < 10 ? 0:''}${Math.floor(timer/60)}`}</span>\n                            <span className={'timerMinSecSeparator'}>:</span>\n                            <span className={'timerTimeSec'}>{`${(timer-(Math.floor(timer/60)*60)) < 10 ? 0:''}${timer-(Math.floor(timer/60)*60)}`}</span>\n                        </div>\n                        <div className={'timerUnderLine'}></div>\n                    </div>\n                </div>\n            <Question question={props.questionText} />\n            {(props.haveImage === 'TRUE') ? <img src={`https://quizapp-server.herokuapp.com/${props.questionNumber}.jpg`} className={'questionImage'} alt={'image'} /> : null}\n            {\n                (props.haveOptions === 'TRUE') ? <div className={'optionsContainer'}><ul className={'options'}>{props.options.map((option) => <OptionInstant  timer={timer} netTime={props.stateData.questions[props.progress] !== undefined ? props.stateData.questions[props.progress].time : null} refreshTimer={refreshTimer} checkAnswer={props.checkAnswer} optionText={option} questionNumber={props.questionNumber} />)}</ul></div>\n                    :<div className={'answerTextContainer'}><form className={'answerTextForm'} onSubmit={handleAnswerTextSubmit}>\n                        <label className={'answerTextLabel'}>Answer : </label>\n                        <input type={'text'} className={'answerTextInput'} id={'answerText'} name={crypto.randomBytes(8).toString('hex')} />\n                        <button type={'submit'} value={'submitAnswer'} className={'button answerSubmitButton'}>Submit Answer</button>\n                    </form></div>\n            }\n\n        </div>\n    );\n};\n\nexport default GameRenderer;\n"]},"metadata":{},"sourceType":"module"}