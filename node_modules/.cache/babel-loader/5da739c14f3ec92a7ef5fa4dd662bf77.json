{"ast":null,"code":"import _slicedToArray from\"/home/vm/Desktop/quizApp/quizappui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import'./playStart.css';import{ADD_RESPONSE,ADD_STUDENT_DATA}from'../../queries';import{useMutation}from\"@apollo/react-hooks\";import Cookies from\"js-cookie\";var StudentForm=function StudentForm(props){var _useMutation=useMutation(ADD_STUDENT_DATA),_useMutation2=_slicedToArray(_useMutation,2),triggerMutation=_useMutation2[0],data=_useMutation2[1].data;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isButtonDisabled=_useState2[0],setIsButtonDisabled=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),phoneNumber=_useState4[0],setPhoneNumber=_useState4[1];useEffect(function(){setIsButtonDisabled(phoneNumber===null||phoneNumber===''||isNaN(parseInt(phoneNumber)));},[phoneNumber]);var formHandler=function formHandler(e){e.preventDefault();var phone=e.target.elements.phone.value;var branch=e.target.elements.branch.value;var year=e.target.elements.year.value;triggerMutation({variables:{ID:Cookies.get('user_id'),phone:phone,branch:branch,year:year}});props.setFormFilled(true);};var handlePhoneNumberChange=function handlePhoneNumberChange(e){setPhoneNumber(e.target.value);};return/*#__PURE__*/React.createElement(\"div\",{className:'formWrapper'},/*#__PURE__*/React.createElement(\"form\",{className:'studentForm',onSubmit:function onSubmit(e){return formHandler(e);}},isButtonDisabled?/*#__PURE__*/React.createElement(\"p\",{className:'studentFormWarn'},\"Please fill all fields to continue\",/*#__PURE__*/React.createElement(\"span\",{className:'formStar'},\"*\")):null,/*#__PURE__*/React.createElement(\"div\",{className:'studentFormPhone'},/*#__PURE__*/React.createElement(\"label\",{className:'studentFormLabel'},\"Phone\",/*#__PURE__*/React.createElement(\"sup\",{className:'formStar'},\"*\"),\"  \"),/*#__PURE__*/React.createElement(\"input\",{onChange:handlePhoneNumberChange,maxLength:10,type:\"number\",id:\"phone\",name:\"phone\",className:'studentFormPhoneInput',placeholder:'Phone Number'}),phoneNumber.length<10||parseInt(phoneNumber).toString().length!==phoneNumber.length?/*#__PURE__*/React.createElement(\"p\",{className:'studentFormWarn'},\"This doesn't look like a phone number\",/*#__PURE__*/React.createElement(\"span\",{className:'formStar'},\"!\")):null),/*#__PURE__*/React.createElement(\"div\",{className:'studentFormBranch'},/*#__PURE__*/React.createElement(\"label\",{className:'studentFormLabel'},\"Branch\",/*#__PURE__*/React.createElement(\"sup\",{className:'formStar'},\"*\")),/*#__PURE__*/React.createElement(\"select\",{id:\"branch\",name:\"branch\",className:'studentFormBranchInput'},/*#__PURE__*/React.createElement(\"option\",{value:'CSE'},\"CSE\"),/*#__PURE__*/React.createElement(\"option\",{value:'ECE'},\"ECE\"),/*#__PURE__*/React.createElement(\"option\",{value:'ME'},\"ME\"),/*#__PURE__*/React.createElement(\"option\",{value:'EEE'},\"EEE\"),/*#__PURE__*/React.createElement(\"option\",{value:'IT'},\"IT\"))),/*#__PURE__*/React.createElement(\"div\",{className:'studentFormYear'},/*#__PURE__*/React.createElement(\"label\",{className:'studentFormLabel'},\"Year\",/*#__PURE__*/React.createElement(\"sup\",{className:'formStar'},\"*\")),/*#__PURE__*/React.createElement(\"select\",{id:\"year\",name:\"year\",className:'studentFormYearInput'},/*#__PURE__*/React.createElement(\"option\",{value:'First'},\"First\"),/*#__PURE__*/React.createElement(\"option\",{value:'Second'},\"Second\"),/*#__PURE__*/React.createElement(\"option\",{value:'Third'},\"Third\"),/*#__PURE__*/React.createElement(\"option\",{value:'Fourth'},\"Fourth\"),/*#__PURE__*/React.createElement(\"option\",{value:'MTech1'},\"MTech First\"),/*#__PURE__*/React.createElement(\"option\",{value:'MTech2'},\"MTech Second\"))),/*#__PURE__*/React.createElement(\"button\",{type:'submit',disabled:isButtonDisabled,className:\"button start-button studentFormButton \".concat(isButtonDisabled?\"disabledButton\":\"\"),value:'Next'},\"Next\")));};export default StudentForm;","map":{"version":3,"sources":["/home/vm/Desktop/quizApp/quizappui/src/components/playComponents/studentForm.js"],"names":["React","useState","useEffect","ADD_RESPONSE","ADD_STUDENT_DATA","useMutation","Cookies","StudentForm","props","triggerMutation","data","isButtonDisabled","setIsButtonDisabled","phoneNumber","setPhoneNumber","isNaN","parseInt","formHandler","e","preventDefault","phone","target","elements","value","branch","year","variables","ID","get","setFormFilled","handlePhoneNumberChange","length","toString"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport './playStart.css';\nimport {ADD_RESPONSE, ADD_STUDENT_DATA} from '../../queries';\nimport {useMutation} from \"@apollo/react-hooks\";\nimport Cookies from \"js-cookie\";\n\n\n\nconst StudentForm = (props) => {\n\n    const [triggerMutation, { data }] = useMutation(ADD_STUDENT_DATA);\n    const [isButtonDisabled, setIsButtonDisabled] = useState(true);\n    const [phoneNumber, setPhoneNumber] = useState(null);\n\n    \n    useEffect(() => {\n        setIsButtonDisabled(phoneNumber === null || phoneNumber === '' || isNaN(parseInt(phoneNumber)));\n    }, [phoneNumber]);\n\n    const formHandler = (e) => {\n            e.preventDefault();\n            const phone = e.target.elements.phone.value;\n            const branch = e.target.elements.branch.value;\n            const year = e.target.elements.year.value;\n            triggerMutation({\n                variables : {ID : Cookies.get('user_id'),\n                    phone : phone,\n                    branch : branch,\n                    year : year}\n            });\n            props.setFormFilled(true);\n    };\n    \n    const handlePhoneNumberChange = (e) => {\n        setPhoneNumber(e.target.value);\n    };\n\n\n    return (\n        <div className={'formWrapper'}>\n            <form className={'studentForm'} onSubmit={(e) => formHandler(e)}>\n                {(isButtonDisabled) ? <p className={'studentFormWarn'}>Please fill all fields to continue<span className={'formStar'}>*</span></p>:null}\n                <div className={'studentFormPhone'}>\n                    <label className={'studentFormLabel'}>Phone<sup className={'formStar'}>*</sup>  </label>\n                    <input onChange={handlePhoneNumberChange} maxLength={10} type=\"number\" id=\"phone\" name=\"phone\" className={'studentFormPhoneInput'} placeholder={'Phone Number'}/>\n                    {((phoneNumber.length < 10) || (parseInt(phoneNumber).toString().length !== phoneNumber.length)) ? <p className={'studentFormWarn'}>This doesn't look like a phone number<span className={'formStar'}>!</span></p>:null}\n                </div>\n                <div className={'studentFormBranch'}>\n                    <label className={'studentFormLabel'}>Branch<sup className={'formStar'}>*</sup></label>\n                    <select id=\"branch\" name=\"branch\" className={'studentFormBranchInput'} >\n                        <option value={'CSE'}>CSE</option>\n                        <option value={'ECE'}>ECE</option>\n                        <option value={'ME'}>ME</option>\n                        <option value={'EEE'}>EEE</option>\n                        <option value={'IT'}>IT</option>\n                    </select>\n                </div>\n                <div className={'studentFormYear'}>\n                    <label className={'studentFormLabel'}>Year<sup className={'formStar'}>*</sup></label>\n                    <select  id=\"year\" name=\"year\" className={'studentFormYearInput'} >\n                        <option value={'First'}>First</option>\n                        <option value={'Second'}>Second</option>\n                        <option value={'Third'}>Third</option>\n                        <option value={'Fourth'}>Fourth</option>\n                        <option value={'MTech1'}>MTech First</option>\n                        <option value={'MTech2'}>MTech Second</option>\n                    </select>\n                </div>\n                <button type={'submit'} disabled={isButtonDisabled} className={`button start-button studentFormButton ${isButtonDisabled?`disabledButton`:``}`} value={'Next'}>Next</button>\n            </form>\n        </div>\n    );\n};\n\nexport default StudentForm;\n"]},"metadata":{},"sourceType":"module"}