{"ast":null,"code":"import _slicedToArray from\"/home/vm/Desktop/quizApp/quizappui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import'./playStart.css';import{ADD_STUDENT_DATA}from'../../queries';import{useMutation}from\"@apollo/react-hooks\";import Cookies from\"js-cookie\";var StudentForm=function StudentForm(props){var _useMutation=useMutation(ADD_STUDENT_DATA),_useMutation2=_slicedToArray(_useMutation,2),triggerMutation=_useMutation2[0],data=_useMutation2[1].data;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isButtonDisabled=_useState2[0],setIsButtonDisabled=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),phoneNumber=_useState4[0],setPhoneNumber=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showPhoneNumberError=_useState6[0],setShowPhoneNumberError=_useState6[1];useEffect(function(){setIsButtonDisabled(phoneNumber===null||phoneNumber===''||isNaN(parseInt(phoneNumber)||showPhoneNumberError));},[phoneNumber,showPhoneNumberError]);var formHandler=function formHandler(e){if(!(phoneNumber.length!==10||parseInt(phoneNumber).toString().length!==phoneNumber.length)){e.preventDefault();var phone=e.target.elements.phone.value;var branch=e.target.elements.branch.value;var year=e.target.elements.year.value;triggerMutation({variables:{ID:Cookies.get('user_id'),phone:phone,branch:branch,year:year}});props.setFormFilled(true);}else{e.preventDefault();setShowPhoneNumberError(true);}};var handlePhoneNumberChange=function handlePhoneNumberChange(e){setPhoneNumber(e.target.value);if(showPhoneNumberError){if(!(phoneNumber.length!==10||parseInt(phoneNumber).toString().length!==phoneNumber.length)){setShowPhoneNumberError(false);}}};return/*#__PURE__*/React.createElement(\"div\",{className:'formWrapper'},/*#__PURE__*/React.createElement(\"form\",{className:'studentForm',onSubmit:function onSubmit(e){return formHandler(e);}},isButtonDisabled?/*#__PURE__*/React.createElement(\"p\",{className:'studentFormWarn'},\"Please fill all fields to continue\",/*#__PURE__*/React.createElement(\"span\",{className:'formStar'},\"*\")):null,/*#__PURE__*/React.createElement(\"div\",{className:'studentFormPhone'},/*#__PURE__*/React.createElement(\"label\",{className:'studentFormLabel'},\"Phone\",/*#__PURE__*/React.createElement(\"sup\",{className:'formStar'},\"*\"),\"  \"),/*#__PURE__*/React.createElement(\"input\",{onChange:handlePhoneNumberChange,maxLength:10,type:\"number\",id:\"phone\",name:\"phone\",className:'studentFormPhoneInput',placeholder:'Phone Number without +91'}),showPhoneNumberError?/*#__PURE__*/React.createElement(\"p\",{className:'studentFormWarn'},\"This doesn't look like a phone number\",/*#__PURE__*/React.createElement(\"span\",{className:'formStar'},\"!\")):null),/*#__PURE__*/React.createElement(\"div\",{className:'studentFormBranch'},/*#__PURE__*/React.createElement(\"label\",{className:'studentFormLabel'},\"Branch\",/*#__PURE__*/React.createElement(\"sup\",{className:'formStar'},\"*\")),/*#__PURE__*/React.createElement(\"select\",{required:true,id:\"branch\",name:\"branch\",className:'studentFormBranchInput'},/*#__PURE__*/React.createElement(\"option\",{value:'CSE'},\"CSE\"),/*#__PURE__*/React.createElement(\"option\",{value:'ECE'},\"ECE\"),/*#__PURE__*/React.createElement(\"option\",{value:'ME'},\"ME\"),/*#__PURE__*/React.createElement(\"option\",{value:'EEE'},\"EEE\"),/*#__PURE__*/React.createElement(\"option\",{value:'IT'},\"IT\"))),/*#__PURE__*/React.createElement(\"div\",{className:'studentFormYear'},/*#__PURE__*/React.createElement(\"label\",{className:'studentFormLabel'},\"Year\",/*#__PURE__*/React.createElement(\"sup\",{className:'formStar'},\"*\")),/*#__PURE__*/React.createElement(\"select\",{required:true,id:\"year\",name:\"year\",className:'studentFormYearInput'},/*#__PURE__*/React.createElement(\"option\",{value:'First'},\"First\"),/*#__PURE__*/React.createElement(\"option\",{value:'Second'},\"Second\"),/*#__PURE__*/React.createElement(\"option\",{value:'Third'},\"Third\"),/*#__PURE__*/React.createElement(\"option\",{value:'Fourth'},\"Fourth\"),/*#__PURE__*/React.createElement(\"option\",{value:'MTech1'},\"MTech First\"),/*#__PURE__*/React.createElement(\"option\",{value:'MTech2'},\"MTech Second\"))),/*#__PURE__*/React.createElement(\"button\",{type:'submit',disabled:isButtonDisabled,className:\"button start-button studentFormButton \".concat(isButtonDisabled?\"disabledButton\":\"\"),value:'Next'},\"Next\")));};export default StudentForm;","map":{"version":3,"sources":["/home/vm/Desktop/quizApp/quizappui/src/components/playComponents/studentForm.js"],"names":["React","useState","useEffect","ADD_STUDENT_DATA","useMutation","Cookies","StudentForm","props","triggerMutation","data","isButtonDisabled","setIsButtonDisabled","phoneNumber","setPhoneNumber","showPhoneNumberError","setShowPhoneNumberError","isNaN","parseInt","formHandler","e","length","toString","preventDefault","phone","target","elements","value","branch","year","variables","ID","get","setFormFilled","handlePhoneNumberChange"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport './playStart.css';\nimport {ADD_STUDENT_DATA} from '../../queries';\nimport {useMutation} from \"@apollo/react-hooks\";\nimport Cookies from \"js-cookie\";\n\n\n\nconst StudentForm = (props) => {\n\n    const [triggerMutation, { data }] = useMutation(ADD_STUDENT_DATA);\n    const [isButtonDisabled, setIsButtonDisabled] = useState(true);\n    const [phoneNumber, setPhoneNumber] = useState(null);\n    const [showPhoneNumberError, setShowPhoneNumberError] = useState(false);\n    \n    useEffect(() => {\n        setIsButtonDisabled(phoneNumber === null || phoneNumber === '' || isNaN(parseInt(phoneNumber) || showPhoneNumberError));\n    }, [phoneNumber, showPhoneNumberError]);\n\n    const formHandler = (e) => {\n        if (!((phoneNumber.length !== 10) || (parseInt(phoneNumber).toString().length !== phoneNumber.length))) {\n            e.preventDefault();\n            const phone = e.target.elements.phone.value;\n            const branch = e.target.elements.branch.value;\n            const year = e.target.elements.year.value;\n            triggerMutation({\n                variables : {ID : Cookies.get('user_id'),\n                    phone : phone,\n                    branch : branch,\n                    year : year}\n            });\n            props.setFormFilled(true);\n        }\n        else {\n            e.preventDefault();\n            setShowPhoneNumberError(true);\n        }\n    };\n    \n    const handlePhoneNumberChange = (e) => {\n        setPhoneNumber(e.target.value);\n        if (showPhoneNumberError) {\n            if (!((phoneNumber.length !== 10) || (parseInt(phoneNumber).toString().length !== phoneNumber.length))) {\n                setShowPhoneNumberError(false);\n            }\n        }\n    };\n\n\n    return (\n        <div className={'formWrapper'}>\n            <form className={'studentForm'} onSubmit={(e) => formHandler(e)}>\n                {(isButtonDisabled) ? <p className={'studentFormWarn'}>Please fill all fields to continue<span className={'formStar'}>*</span></p>:null}\n                <div className={'studentFormPhone'}>\n                    <label className={'studentFormLabel'}>Phone<sup className={'formStar'}>*</sup>  </label>\n                    <input onChange={handlePhoneNumberChange} maxLength={10} type=\"number\" id=\"phone\" name=\"phone\" className={'studentFormPhoneInput'} placeholder={'Phone Number without +91'}/>\n                    {(showPhoneNumberError) ? <p className={'studentFormWarn'}>This doesn't look like a phone number<span className={'formStar'}>!</span></p>:null}\n                </div>\n                <div className={'studentFormBranch'}>\n                    <label className={'studentFormLabel'}>Branch<sup className={'formStar'}>*</sup></label>\n                    <select required id=\"branch\" name=\"branch\" className={'studentFormBranchInput'} >\n                        <option value={'CSE'}>CSE</option>\n                        <option value={'ECE'}>ECE</option>\n                        <option value={'ME'}>ME</option>\n                        <option value={'EEE'}>EEE</option>\n                        <option value={'IT'}>IT</option>\n                    </select>\n                </div>\n                <div className={'studentFormYear'}>\n                    <label className={'studentFormLabel'}>Year<sup className={'formStar'}>*</sup></label>\n                    <select required id=\"year\" name=\"year\" className={'studentFormYearInput'} >\n                        <option value={'First'}>First</option>\n                        <option value={'Second'}>Second</option>\n                        <option value={'Third'}>Third</option>\n                        <option value={'Fourth'}>Fourth</option>\n                        <option value={'MTech1'}>MTech First</option>\n                        <option value={'MTech2'}>MTech Second</option>\n                    </select>\n                </div>\n                <button type={'submit'} disabled={isButtonDisabled} className={`button start-button studentFormButton ${isButtonDisabled?`disabledButton`:``}`} value={'Next'}>Next</button>\n            </form>\n        </div>\n    );\n};\n\nexport default StudentForm;\n"]},"metadata":{},"sourceType":"module"}