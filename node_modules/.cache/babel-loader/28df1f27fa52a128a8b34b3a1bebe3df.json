{"ast":null,"code":"import _slicedToArray from\"/home/vm/Desktop/Projects/quizApp/quizappui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import'./playStart.css';import{ADD_STUDENT_DATA}from'../../queries';import{useMutation}from\"@apollo/react-hooks\";import Cookies from\"js-cookie\";var StudentForm=function StudentForm(props){var _useMutation=useMutation(ADD_STUDENT_DATA),_useMutation2=_slicedToArray(_useMutation,2),triggerMutation=_useMutation2[0],data=_useMutation2[1].data;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isButtonDisabled=_useState2[0],setIsButtonDisabled=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),phoneNumber=_useState4[0],setPhoneNumber=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showPhoneNumberError=_useState6[0],setShowPhoneNumberError=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),collegeName=_useState8[0],setCollegeName=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),showCollegeNameError=_useState10[0],setShowCollegeNameError=_useState10[1];useEffect(function(){setIsButtonDisabled(phoneNumber===null||phoneNumber===''||isNaN(parseInt(phoneNumber)||showPhoneNumberError||collegeName===null||collegeName===''||showCollegeNameError));},[phoneNumber,showPhoneNumberError,collegeName,showCollegeNameError]);var formHandler=function formHandler(e){if(!(phoneNumber.length!==10||parseInt(phoneNumber).toString().length!==phoneNumber.length||collegeName===null||collegeName==='')){e.preventDefault();var phone=e.target.elements.phone.value;var branch=e.target.elements.branch.value;var year=e.target.elements.year.value;var college=collegeName.length>300?collegeName.slice(0,300):collegeName;triggerMutation({variables:{ID:Cookies.get('user_id'),phone:phone,branch:branch,year:year,college:college}});props.setFormFilled(true);}else{e.preventDefault();if(phoneNumber.length!==10||parseInt(phoneNumber).toString().length!==phoneNumber.length){setShowPhoneNumberError(true);}if(collegeName===null||collegeName===''){setShowCollegeNameError(true);}}};var handlePhoneNumberChange=function handlePhoneNumberChange(e){setPhoneNumber(e.target.value);if(showPhoneNumberError){if(!(phoneNumber.length!==10||parseInt(phoneNumber).toString().length!==phoneNumber.length)){setShowPhoneNumberError(false);}}};var handleCollegeChange=function handleCollegeChange(e){setCollegeName(e.target.value);if(showCollegeNameError){if(collegeName!==null||collegeName!==''){setShowCollegeNameError(false);}}};return/*#__PURE__*/React.createElement(\"div\",{className:'formWrapper'},/*#__PURE__*/React.createElement(\"form\",{className:'studentForm',onSubmit:function onSubmit(e){return formHandler(e);}},isButtonDisabled?/*#__PURE__*/React.createElement(\"p\",{className:'studentFormWarn'},\"Please fill all fields to continue\",/*#__PURE__*/React.createElement(\"span\",{className:'formStar'},\"*\")):null,/*#__PURE__*/React.createElement(\"div\",{className:'studentFormPhone'},/*#__PURE__*/React.createElement(\"label\",{className:'studentFormLabel'},\"Phone\",/*#__PURE__*/React.createElement(\"sup\",{className:'formStar'},\"*\"),\"  \"),/*#__PURE__*/React.createElement(\"input\",{onChange:handlePhoneNumberChange,maxLength:10,type:\"number\",id:\"phone\",name:\"phone\",className:'studentFormPhoneInput',placeholder:'Phone Number without +91'}),showPhoneNumberError?/*#__PURE__*/React.createElement(\"p\",{className:'studentFormWarn'},\"This doesn't look like a phone number\",/*#__PURE__*/React.createElement(\"span\",{className:'formStar'},\"!\")):null),/*#__PURE__*/React.createElement(\"div\",{className:'studentFormCollege'},/*#__PURE__*/React.createElement(\"label\",{className:'studentFormLabel'},\"College\",/*#__PURE__*/React.createElement(\"sup\",{className:'formStar'},\"*\"),\"  \"),/*#__PURE__*/React.createElement(\"input\",{onChange:handleCollegeChange,maxLength:500,type:\"text\",id:\"college\",name:\"college\",className:'studentFormCollegeInput',placeholder:'College Name'}),showCollegeNameError?/*#__PURE__*/React.createElement(\"p\",{className:'studentFormWarn'},\"This can't be empty\",/*#__PURE__*/React.createElement(\"span\",{className:'formStar'},\"!\")):null),/*#__PURE__*/React.createElement(\"div\",{className:'studentFormBranch'},/*#__PURE__*/React.createElement(\"label\",{className:'studentFormLabel'},\"Branch\",/*#__PURE__*/React.createElement(\"sup\",{className:'formStar'},\"*\")),/*#__PURE__*/React.createElement(\"select\",{id:\"branch\",name:\"branch\",className:'studentFormBranchInput'},/*#__PURE__*/React.createElement(\"option\",{value:'CSE'},\"CSE\"),/*#__PURE__*/React.createElement(\"option\",{value:'ECE'},\"ECE\"),/*#__PURE__*/React.createElement(\"option\",{value:'ME'},\"ME\"),/*#__PURE__*/React.createElement(\"option\",{value:'EEE'},\"EEE\"),/*#__PURE__*/React.createElement(\"option\",{value:'IT'},\"IT\"))),/*#__PURE__*/React.createElement(\"div\",{className:'studentFormYear'},/*#__PURE__*/React.createElement(\"label\",{className:'studentFormLabel'},\"Year\",/*#__PURE__*/React.createElement(\"sup\",{className:'formStar'},\"*\")),/*#__PURE__*/React.createElement(\"select\",{id:\"year\",name:\"year\",className:'studentFormYearInput'},/*#__PURE__*/React.createElement(\"option\",{value:'First'},\"First\"),/*#__PURE__*/React.createElement(\"option\",{value:'Second'},\"Second\"),/*#__PURE__*/React.createElement(\"option\",{value:'Third'},\"Third\"),/*#__PURE__*/React.createElement(\"option\",{value:'Fourth'},\"Fourth\"),/*#__PURE__*/React.createElement(\"option\",{value:'MTech1'},\"MTech First\"),/*#__PURE__*/React.createElement(\"option\",{value:'MTech2'},\"MTech Second\"))),/*#__PURE__*/React.createElement(\"button\",{type:'submit',disabled:isButtonDisabled,className:\"button start-button studentFormButton \".concat(isButtonDisabled?\"disabledButton\":\"\"),value:'Next'},\"Next\")));};export default StudentForm;","map":{"version":3,"sources":["/home/vm/Desktop/Projects/quizApp/quizappui/src/components/playComponents/studentForm.js"],"names":["React","useState","useEffect","ADD_STUDENT_DATA","useMutation","Cookies","StudentForm","props","triggerMutation","data","isButtonDisabled","setIsButtonDisabled","phoneNumber","setPhoneNumber","showPhoneNumberError","setShowPhoneNumberError","collegeName","setCollegeName","showCollegeNameError","setShowCollegeNameError","isNaN","parseInt","formHandler","e","length","toString","preventDefault","phone","target","elements","value","branch","year","college","slice","variables","ID","get","setFormFilled","handlePhoneNumberChange","handleCollegeChange"],"mappings":"kKAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,MAAO,iBAAP,CACA,OAAQC,gBAAR,KAA+B,eAA/B,CACA,OAAQC,WAAR,KAA0B,qBAA1B,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,KAAD,CAAW,kBAESH,WAAW,CAACD,gBAAD,CAFpB,8CAEpBK,eAFoB,kBAEDC,IAFC,kBAEDA,IAFC,eAGqBR,QAAQ,CAAC,IAAD,CAH7B,wCAGpBS,gBAHoB,eAGFC,mBAHE,8BAIWV,QAAQ,CAAC,IAAD,CAJnB,yCAIpBW,WAJoB,eAIPC,cAJO,8BAK6BZ,QAAQ,CAAC,KAAD,CALrC,yCAKpBa,oBALoB,eAKEC,uBALF,8BAMWd,QAAQ,CAAC,IAAD,CANnB,yCAMpBe,WANoB,eAMPC,cANO,8BAO6BhB,QAAQ,CAAC,KAAD,CAPrC,0CAOpBiB,oBAPoB,gBAOEC,uBAPF,gBAU3BjB,SAAS,CAAC,UAAM,CACZS,mBAAmB,CAACC,WAAW,GAAK,IAAhB,EAAwBA,WAAW,GAAK,EAAxC,EAA8CQ,KAAK,CAACC,QAAQ,CAACT,WAAD,CAAR,EAAyBE,oBAAzB,EAAiDE,WAAW,GAAK,IAAjE,EAAyEA,WAAW,GAAK,EAAzF,EAA+FE,oBAAhG,CAApD,CAAnB,CACH,CAFQ,CAEN,CAACN,WAAD,CAAcE,oBAAd,CAAoCE,WAApC,CAAiDE,oBAAjD,CAFM,CAAT,CAIA,GAAMI,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,CAAD,CAAO,CACvB,GAAI,EAAGX,WAAW,CAACY,MAAZ,GAAuB,EAAxB,EAAgCH,QAAQ,CAACT,WAAD,CAAR,CAAsBa,QAAtB,GAAiCD,MAAjC,GAA4CZ,WAAW,CAACY,MAAxF,EAAmGR,WAAW,GAAK,IAAnH,EAA2HA,WAAW,GAAK,EAA7I,CAAJ,CAAsJ,CAClJO,CAAC,CAACG,cAAF,GACA,GAAMC,CAAAA,KAAK,CAAGJ,CAAC,CAACK,MAAF,CAASC,QAAT,CAAkBF,KAAlB,CAAwBG,KAAtC,CACA,GAAMC,CAAAA,MAAM,CAAGR,CAAC,CAACK,MAAF,CAASC,QAAT,CAAkBE,MAAlB,CAAyBD,KAAxC,CACA,GAAME,CAAAA,IAAI,CAAGT,CAAC,CAACK,MAAF,CAASC,QAAT,CAAkBG,IAAlB,CAAuBF,KAApC,CACA,GAAMG,CAAAA,OAAO,CAAIjB,WAAW,CAACQ,MAAZ,CAAqB,GAAtB,CAA6BR,WAAW,CAACkB,KAAZ,CAAkB,CAAlB,CAAoB,GAApB,CAA7B,CAAwDlB,WAAxE,CACAR,eAAe,CAAC,CACZ2B,SAAS,CAAG,CAACC,EAAE,CAAG/B,OAAO,CAACgC,GAAR,CAAY,SAAZ,CAAN,CACRV,KAAK,CAAGA,KADA,CAERI,MAAM,CAAGA,MAFD,CAGRC,IAAI,CAAGA,IAHC,CAIRC,OAAO,CAAGA,OAJF,CADA,CAAD,CAAf,CAOA1B,KAAK,CAAC+B,aAAN,CAAoB,IAApB,EACH,CAdD,IAeK,CACDf,CAAC,CAACG,cAAF,GACA,GAAKd,WAAW,CAACY,MAAZ,GAAuB,EAAxB,EAAgCH,QAAQ,CAACT,WAAD,CAAR,CAAsBa,QAAtB,GAAiCD,MAAjC,GAA4CZ,WAAW,CAACY,MAA5F,CAAqG,CACjGT,uBAAuB,CAAC,IAAD,CAAvB,CACH,CACD,GAAIC,WAAW,GAAK,IAAhB,EAAwBA,WAAW,GAAK,EAA5C,CAAgD,CAC5CG,uBAAuB,CAAC,IAAD,CAAvB,CACH,CACJ,CACJ,CAzBD,CA2BA,GAAMoB,CAAAA,uBAAuB,CAAG,QAA1BA,CAAAA,uBAA0B,CAAChB,CAAD,CAAO,CACnCV,cAAc,CAACU,CAAC,CAACK,MAAF,CAASE,KAAV,CAAd,CACA,GAAIhB,oBAAJ,CAA0B,CACtB,GAAI,EAAGF,WAAW,CAACY,MAAZ,GAAuB,EAAxB,EAAgCH,QAAQ,CAACT,WAAD,CAAR,CAAsBa,QAAtB,GAAiCD,MAAjC,GAA4CZ,WAAW,CAACY,MAA1F,CAAJ,CAAwG,CACpGT,uBAAuB,CAAC,KAAD,CAAvB,CACH,CACJ,CACJ,CAPD,CASA,GAAMyB,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACjB,CAAD,CAAO,CACjCN,cAAc,CAACM,CAAC,CAACK,MAAF,CAASE,KAAV,CAAd,CACA,GAAIZ,oBAAJ,CAA0B,CACtB,GAAIF,WAAW,GAAK,IAAhB,EAAwBA,WAAW,GAAK,EAA5C,CAA+C,CAC3CG,uBAAuB,CAAC,KAAD,CAAvB,CACH,CACJ,CACF,CAPD,CAUA,mBACI,2BAAK,SAAS,CAAE,aAAhB,eACI,4BAAM,SAAS,CAAE,aAAjB,CAAgC,QAAQ,CAAE,kBAACI,CAAD,QAAOD,CAAAA,WAAW,CAACC,CAAD,CAAlB,EAA1C,EACMb,gBAAD,cAAqB,yBAAG,SAAS,CAAE,iBAAd,oDAAmE,4BAAM,SAAS,CAAE,UAAjB,MAAnE,CAArB,CAAkI,IADvI,cAEI,2BAAK,SAAS,CAAE,kBAAhB,eACI,6BAAO,SAAS,CAAE,kBAAlB,uBAA2C,2BAAK,SAAS,CAAE,UAAhB,MAA3C,MADJ,cAEI,6BAAO,QAAQ,CAAE6B,uBAAjB,CAA0C,SAAS,CAAE,EAArD,CAAyD,IAAI,CAAC,QAA9D,CAAuE,EAAE,CAAC,OAA1E,CAAkF,IAAI,CAAC,OAAvF,CAA+F,SAAS,CAAE,uBAA1G,CAAmI,WAAW,CAAE,0BAAhJ,EAFJ,CAGMzB,oBAAD,cAAyB,yBAAG,SAAS,CAAE,iBAAd,uDAAsE,4BAAM,SAAS,CAAE,UAAjB,MAAtE,CAAzB,CAAyI,IAH9I,CAFJ,cAOI,2BAAK,SAAS,CAAE,oBAAhB,eACI,6BAAO,SAAS,CAAE,kBAAlB,yBAA6C,2BAAK,SAAS,CAAE,UAAhB,MAA7C,MADJ,cAEI,6BAAO,QAAQ,CAAE0B,mBAAjB,CAAsC,SAAS,CAAE,GAAjD,CAAsD,IAAI,CAAC,MAA3D,CAAkE,EAAE,CAAC,SAArE,CAA+E,IAAI,CAAC,SAApF,CAA8F,SAAS,CAAE,yBAAzG,CAAoI,WAAW,CAAE,cAAjJ,EAFJ,CAGMtB,oBAAD,cAAyB,yBAAG,SAAS,CAAE,iBAAd,qCAAoD,4BAAM,SAAS,CAAE,UAAjB,MAApD,CAAzB,CAAuH,IAH5H,CAPJ,cAYI,2BAAK,SAAS,CAAE,mBAAhB,eACI,6BAAO,SAAS,CAAE,kBAAlB,wBAA4C,2BAAK,SAAS,CAAE,UAAhB,MAA5C,CADJ,cAEI,8BAAQ,EAAE,CAAC,QAAX,CAAoB,IAAI,CAAC,QAAzB,CAAkC,SAAS,CAAE,wBAA7C,eACI,8BAAQ,KAAK,CAAE,KAAf,QADJ,cAEI,8BAAQ,KAAK,CAAE,KAAf,QAFJ,cAGI,8BAAQ,KAAK,CAAE,IAAf,OAHJ,cAII,8BAAQ,KAAK,CAAE,KAAf,QAJJ,cAKI,8BAAQ,KAAK,CAAE,IAAf,OALJ,CAFJ,CAZJ,cAsBI,2BAAK,SAAS,CAAE,iBAAhB,eACI,6BAAO,SAAS,CAAE,kBAAlB,sBAA0C,2BAAK,SAAS,CAAE,UAAhB,MAA1C,CADJ,cAEI,8BAAQ,EAAE,CAAC,MAAX,CAAkB,IAAI,CAAC,MAAvB,CAA8B,SAAS,CAAE,sBAAzC,eACI,8BAAQ,KAAK,CAAE,OAAf,UADJ,cAEI,8BAAQ,KAAK,CAAE,QAAf,WAFJ,cAGI,8BAAQ,KAAK,CAAE,OAAf,UAHJ,cAII,8BAAQ,KAAK,CAAE,QAAf,WAJJ,cAKI,8BAAQ,KAAK,CAAE,QAAf,gBALJ,cAMI,8BAAQ,KAAK,CAAE,QAAf,iBANJ,CAFJ,CAtBJ,cAiCI,8BAAQ,IAAI,CAAE,QAAd,CAAwB,QAAQ,CAAER,gBAAlC,CAAoD,SAAS,iDAA2CA,gBAAgB,oBAA3D,CAA7D,CAAgJ,KAAK,CAAE,MAAvJ,SAjCJ,CADJ,CADJ,CAuCH,CAnGD,CAqGA,cAAeJ,CAAAA,WAAf","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport './playStart.css';\nimport {ADD_STUDENT_DATA} from '../../queries';\nimport {useMutation} from \"@apollo/react-hooks\";\nimport Cookies from \"js-cookie\";\n\nconst StudentForm = (props) => {\n\n    const [triggerMutation, { data }] = useMutation(ADD_STUDENT_DATA);\n    const [isButtonDisabled, setIsButtonDisabled] = useState(true);\n    const [phoneNumber, setPhoneNumber] = useState(null);\n    const [showPhoneNumberError, setShowPhoneNumberError] = useState(false);\n    const [collegeName, setCollegeName] = useState(null);\n    const [showCollegeNameError, setShowCollegeNameError] = useState(false);\n\n\n    useEffect(() => {\n        setIsButtonDisabled(phoneNumber === null || phoneNumber === '' || isNaN(parseInt(phoneNumber) || showPhoneNumberError || collegeName === null || collegeName === '' || showCollegeNameError));\n    }, [phoneNumber, showPhoneNumberError, collegeName, showCollegeNameError]);\n\n    const formHandler = (e) => {\n        if (!((phoneNumber.length !== 10) || (parseInt(phoneNumber).toString().length !== phoneNumber.length) || collegeName === null || collegeName === '')) {\n            e.preventDefault();\n            const phone = e.target.elements.phone.value;\n            const branch = e.target.elements.branch.value;\n            const year = e.target.elements.year.value;\n            const college = (collegeName.length > 300) ? collegeName.slice(0,300) : collegeName;\n            triggerMutation({\n                variables : {ID : Cookies.get('user_id'),\n                    phone : phone,\n                    branch : branch,\n                    year : year,\n                    college : college}\n            });\n            props.setFormFilled(true);\n        }\n        else {\n            e.preventDefault();\n            if ((phoneNumber.length !== 10) || (parseInt(phoneNumber).toString().length !== phoneNumber.length)) {\n                setShowPhoneNumberError(true);\n            }\n            if (collegeName === null || collegeName === '') {\n                setShowCollegeNameError(true);\n            }\n        }\n    };\n    \n    const handlePhoneNumberChange = (e) => {\n        setPhoneNumber(e.target.value);\n        if (showPhoneNumberError) {\n            if (!((phoneNumber.length !== 10) || (parseInt(phoneNumber).toString().length !== phoneNumber.length))) {\n                setShowPhoneNumberError(false);\n            }\n        }\n    };\n\n    const handleCollegeChange = (e) => {\n      setCollegeName(e.target.value);\n      if (showCollegeNameError) {\n          if (collegeName !== null || collegeName !== ''){\n              setShowCollegeNameError(false);\n          }\n      }\n    };\n\n\n    return (\n        <div className={'formWrapper'}>\n            <form className={'studentForm'} onSubmit={(e) => formHandler(e)}>\n                {(isButtonDisabled) ? <p className={'studentFormWarn'}>Please fill all fields to continue<span className={'formStar'}>*</span></p>:null}\n                <div className={'studentFormPhone'}>\n                    <label className={'studentFormLabel'}>Phone<sup className={'formStar'}>*</sup>  </label>\n                    <input onChange={handlePhoneNumberChange} maxLength={10} type=\"number\" id=\"phone\" name=\"phone\" className={'studentFormPhoneInput'} placeholder={'Phone Number without +91'}/>\n                    {(showPhoneNumberError) ? <p className={'studentFormWarn'}>This doesn't look like a phone number<span className={'formStar'}>!</span></p>:null}\n                </div>\n                <div className={'studentFormCollege'}>\n                    <label className={'studentFormLabel'}>College<sup className={'formStar'}>*</sup>  </label>\n                    <input onChange={handleCollegeChange} maxLength={500} type=\"text\" id=\"college\" name=\"college\" className={'studentFormCollegeInput'} placeholder={'College Name'} />\n                    {(showCollegeNameError) ? <p className={'studentFormWarn'}>This can't be empty<span className={'formStar'}>!</span></p>:null}\n                </div>\n                <div className={'studentFormBranch'}>\n                    <label className={'studentFormLabel'}>Branch<sup className={'formStar'}>*</sup></label>\n                    <select id=\"branch\" name=\"branch\" className={'studentFormBranchInput'} >\n                        <option value={'CSE'}>CSE</option>\n                        <option value={'ECE'}>ECE</option>\n                        <option value={'ME'}>ME</option>\n                        <option value={'EEE'}>EEE</option>\n                        <option value={'IT'}>IT</option>\n                    </select>\n                </div>\n                <div className={'studentFormYear'}>\n                    <label className={'studentFormLabel'}>Year<sup className={'formStar'}>*</sup></label>\n                    <select id=\"year\" name=\"year\" className={'studentFormYearInput'} >\n                        <option value={'First'}>First</option>\n                        <option value={'Second'}>Second</option>\n                        <option value={'Third'}>Third</option>\n                        <option value={'Fourth'}>Fourth</option>\n                        <option value={'MTech1'}>MTech First</option>\n                        <option value={'MTech2'}>MTech Second</option>\n                    </select>\n                </div>\n                <button type={'submit'} disabled={isButtonDisabled} className={`button start-button studentFormButton ${isButtonDisabled?`disabledButton`:``}`} value={'Next'}>Next</button>\n            </form>\n        </div>\n    );\n};\n\nexport default StudentForm;\n"]},"metadata":{},"sourceType":"module"}