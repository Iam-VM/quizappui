{"ast":null,"code":"import _slicedToArray from\"/home/vm/Desktop/quizApp/quizappui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import'./playStart.css';import{ADD_RESPONSE,ADD_STUDENT_DATA}from'../../queries';import{useMutation}from\"@apollo/react-hooks\";import Cookies from\"js-cookie\";var StudentForm=function StudentForm(props){var _useMutation=useMutation(ADD_STUDENT_DATA),_useMutation2=_slicedToArray(_useMutation,2),triggerMutation=_useMutation2[0],data=_useMutation2[1].data;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isButtonDisabled=_useState2[0],setIsButtonDisabled=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),phoneNumber=_useState4[0],setPhoneNumber=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isPhoneNumber=_useState6[0],setIsPhoneNumber=_useState6[1];useEffect(function(){setIsButtonDisabled(phoneNumber===null||phoneNumber===''||isNaN(parseInt(phoneNumber)));},[phoneNumber]);var formHandler=function formHandler(e){if(phoneNumber.length===10){e.preventDefault();var phone=e.target.elements.phone.value;var branch=e.target.elements.branch.value;var year=e.target.elements.year.value;triggerMutation({variables:{ID:Cookies.get('user_id'),phone:phone,branch:branch,year:year}});props.setFormFilled(true);}else{setIsButtonDisabled(true);setIsPhoneNumber(false);}};var notAPhoneNumberAction=function notAPhoneNumberAction(){setIsButtonDisabled(true);};var handlePhoneNumberChange=function handlePhoneNumberChange(e){setPhoneNumber(e.target.value);if(phoneNumber.length===10&&isNaN(parseInt(phoneNumber)))setIsPhoneNumber(false);if(phoneNumber.length===10&&parseInt(phoneNumber).toString().length!==10)setIsPhoneNumber(false);};return/*#__PURE__*/React.createElement(\"div\",{className:'formWrapper'},/*#__PURE__*/React.createElement(\"form\",{className:'studentForm',onSubmit:function onSubmit(e){return formHandler(e);}},isButtonDisabled?/*#__PURE__*/React.createElement(\"p\",{className:'studentFormWarn'},\"Please fill all fields to continue\",/*#__PURE__*/React.createElement(\"sup\",{className:'formStar'},\"*\")):null,/*#__PURE__*/React.createElement(\"div\",{className:'studentFormPhone'},/*#__PURE__*/React.createElement(\"label\",{className:'studentFormLabel'},\"Phone : \"),/*#__PURE__*/React.createElement(\"input\",{type:\"number\",id:\"phone\",name:\"phone\",className:'studentFormPhoneInput',placeholder:'Phone Number'}),!isPhoneNumber?/*#__PURE__*/React.createElement(\"p\",{className:'studentFormWarn'},\"This doesn't look like a phone number\",/*#__PURE__*/React.createElement(\"span\",{className:'formStar'},\"!\")):null),/*#__PURE__*/React.createElement(\"div\",{className:'studentFormBranch'},/*#__PURE__*/React.createElement(\"label\",{className:'studentFormLabel'},\"Branch : \"),/*#__PURE__*/React.createElement(\"select\",{id:\"branch\",name:\"branch\",className:'studentFormBranchInput'},/*#__PURE__*/React.createElement(\"option\",{value:'CSE'},\"CSE\"),/*#__PURE__*/React.createElement(\"option\",{value:'ECE'},\"ECE\"),/*#__PURE__*/React.createElement(\"option\",{value:'ME'},\"ME\"),/*#__PURE__*/React.createElement(\"option\",{value:'EEE'},\"EEE\"),/*#__PURE__*/React.createElement(\"option\",{value:'IT'},\"IT\"))),/*#__PURE__*/React.createElement(\"div\",{className:'studentFormYear'},/*#__PURE__*/React.createElement(\"label\",{className:'studentFormLabel'},\"Year : \"),/*#__PURE__*/React.createElement(\"select\",{id:\"year\",name:\"year\",className:'studentFormYearInput'},/*#__PURE__*/React.createElement(\"option\",{value:'First'},\"First\"),/*#__PURE__*/React.createElement(\"option\",{value:'Second'},\"Second\"),/*#__PURE__*/React.createElement(\"option\",{value:'Third'},\"Third\"),/*#__PURE__*/React.createElement(\"option\",{value:'Fourth'},\"Fourth\"),/*#__PURE__*/React.createElement(\"option\",{value:'MTech1'},\"MTech First\"),/*#__PURE__*/React.createElement(\"option\",{value:'MTech2'},\"MTech Second\"))),/*#__PURE__*/React.createElement(\"button\",{type:'submit',disabled:isButtonDisabled,className:\"button start-button studentFormButton \".concat(isButtonDisabled?\"disabledButton\":\"\"),value:'Next'},\"Next\")));};export default StudentForm;","map":{"version":3,"sources":["/home/vm/Desktop/quizApp/quizappui/src/components/playComponents/studentForm.js"],"names":["React","useState","useEffect","ADD_RESPONSE","ADD_STUDENT_DATA","useMutation","Cookies","StudentForm","props","triggerMutation","data","isButtonDisabled","setIsButtonDisabled","phoneNumber","setPhoneNumber","isPhoneNumber","setIsPhoneNumber","isNaN","parseInt","formHandler","e","length","preventDefault","phone","target","elements","value","branch","year","variables","ID","get","setFormFilled","notAPhoneNumberAction","handlePhoneNumberChange","toString"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport './playStart.css';\nimport {ADD_RESPONSE, ADD_STUDENT_DATA} from '../../queries';\nimport {useMutation} from \"@apollo/react-hooks\";\nimport Cookies from \"js-cookie\";\n\n\n\nconst StudentForm = (props) => {\n\n    const [triggerMutation, { data }] = useMutation(ADD_STUDENT_DATA);\n    const [isButtonDisabled, setIsButtonDisabled] = useState(true);\n    const [phoneNumber, setPhoneNumber] = useState(null);\n    const [isPhoneNumber, setIsPhoneNumber] = useState(false);\n    \n    useEffect(() => {\n        setIsButtonDisabled(phoneNumber === null || phoneNumber === '' || isNaN(parseInt(phoneNumber)));\n    }, [phoneNumber]);\n\n    const formHandler = (e) => {\n        if (phoneNumber.length === 10) {\n            e.preventDefault();\n            const phone = e.target.elements.phone.value;\n            const branch = e.target.elements.branch.value;\n            const year = e.target.elements.year.value;\n            triggerMutation({\n                variables : {ID : Cookies.get('user_id'),\n                    phone : phone,\n                    branch : branch,\n                    year : year}\n            });\n            props.setFormFilled(true);\n        }\n        else {\n            setIsButtonDisabled(true);\n            setIsPhoneNumber(false);\n        }\n    };\n\n    const notAPhoneNumberAction = () => {\n        setIsButtonDisabled(true);\n    };\n    \n    const handlePhoneNumberChange = (e) => {\n        setPhoneNumber(e.target.value);\n        if (phoneNumber.length === 10 && isNaN(parseInt(phoneNumber))) setIsPhoneNumber(false);\n        if (phoneNumber.length === 10 && parseInt(phoneNumber).toString().length !== 10) setIsPhoneNumber(false);\n    };\n\n\n    return (\n        <div className={'formWrapper'}>\n            <form className={'studentForm'} onSubmit={(e) => formHandler(e)}>\n                {isButtonDisabled?<p className={'studentFormWarn'}>Please fill all fields to continue<sup className={'formStar'}>*</sup></p>:null}\n                <div className={'studentFormPhone'}>\n                    <label className={'studentFormLabel'}>Phone : </label>\n                    <input type=\"number\" id=\"phone\" name=\"phone\" className={'studentFormPhoneInput'} placeholder={'Phone Number'}/>\n                    {(!isPhoneNumber) ? <p className={'studentFormWarn'}>This doesn't look like a phone number<span className={'formStar'}>!</span></p>:null}\n                </div>\n                <div className={'studentFormBranch'}>\n                    <label className={'studentFormLabel'}>Branch : </label>\n                    <select id=\"branch\" name=\"branch\" className={'studentFormBranchInput'} >\n                        <option value={'CSE'}>CSE</option>\n                        <option value={'ECE'}>ECE</option>\n                        <option value={'ME'}>ME</option>\n                        <option value={'EEE'}>EEE</option>\n                        <option value={'IT'}>IT</option>\n                    </select>\n                </div>\n                <div className={'studentFormYear'}>\n                    <label className={'studentFormLabel'}>Year : </label>\n                    <select  id=\"year\" name=\"year\" className={'studentFormYearInput'} >\n                        <option value={'First'}>First</option>\n                        <option value={'Second'}>Second</option>\n                        <option value={'Third'}>Third</option>\n                        <option value={'Fourth'}>Fourth</option>\n                        <option value={'MTech1'}>MTech First</option>\n                        <option value={'MTech2'}>MTech Second</option>\n                    </select>\n                </div>\n                <button type={'submit'} disabled={isButtonDisabled} className={`button start-button studentFormButton ${isButtonDisabled?`disabledButton`:``}`} value={'Next'}>Next</button>\n            </form>\n        </div>\n    );\n};\n\nexport default StudentForm;\n"]},"metadata":{},"sourceType":"module"}