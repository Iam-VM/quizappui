{"ast":null,"code":"import _slicedToArray from\"/home/vm/Desktop/quizApp/quizappui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{useMutation,useQuery,useLazyQuery}from'@apollo/react-hooks';import axios from'axios';import gql from'graphql-tag';import Cookies from'js-cookie';import'./playStart.css';import'../homeComponents/home.css';var GameQuestionRenderer=function GameQuestionRenderer(props){var _useState=useState(20),_useState2=_slicedToArray(_useState,2),questionTimer=_useState2[0],setQuestionTimer=_useState2[1];var classOptionOne={};var classOptionTwo={};var classOptionThree={};var classOptionFour={};var ID=Cookies.get('user_id');useEffect(function(){var time=setInterval(function(){setQuestionTimer(questionTimer-1);},1000);return function(){return clearInterval(time);};},[questionTimer]);var checkAnswer=function checkAnswer(response,responseText,questionID){axios.post('https://quizapp-server.herokuapp.com/addresponse',{ID:ID,response:response,progress:props.questionID}).then(function(){return console.log('response sent..');}).catch(function(err){return console.log(err);});switch(response){case 1:if(responseText===props.question.correctOption){classOptionOne.backgroundColor='green';}else{classOptionOne.backgroundColor='red';}break;case 2:if(responseText===props.question.correctOption){classOptionTwo.backgroundColor='green';}else{classOptionTwo.backgroundColor='red';}break;case 3:if(responseText===props.question.correctOption){classOptionThree.backgroundColor='green';}else{classOptionThree.backgroundColor='red';}break;case 4:if(responseText===props.question.correctOption){classOptionFour.backgroundColor='green';}else{classOptionFour.backgroundColor='red';}break;}};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:'questionHeader'},/*#__PURE__*/React.createElement(\"h2\",{className:'questionTitle'},\"Question: \"),/*#__PURE__*/React.createElement(\"div\",{className:'questionTimer'},questionTimer)),/*#__PURE__*/React.createElement(\"p\",{className:'questionText'},props.question.question),props.question.imagePath?/*#__PURE__*/React.createElement(\"img\",{src:props.question.imagePath,className:'questionImage'}):null,/*#__PURE__*/React.createElement(\"div\",{className:'questionOptions'},/*#__PURE__*/React.createElement(\"div\",{style:classOptionOne,onCliclk:function onCliclk(){return checkAnswer(1,props.question.optionOne,props.question.questionID);}},props.question.optionOne),/*#__PURE__*/React.createElement(\"div\",{style:classOptionTwo,onClick:function onClick(){return checkAnswer(2,props.question.optionTwo,props.question.questionID);}},props.question.optionTwo),/*#__PURE__*/React.createElement(\"div\",{style:classOptionThree,onClick:function onClick(){return checkAnswer(3,props.question.optionThree,props.question.questionID);}},props.question.optionThree),/*#__PURE__*/React.createElement(\"div\",{style:classOptionFour,onClick:function onClick(){return checkAnswer(4,props.question.optionFour,props.question.questionID);}},props.question.optionFour)));};var TimeOut=function TimeOut(props){var response=0;var ID=Cookies.get('user_id');axios.post('https://quizapp-server.herokuapp.com/addresponse',{ID:ID,response:response,progress:props.questionID}).then(function(){return console.log('response sent..');}).catch(function(err){return console.log(err);});return/*#__PURE__*/React.createElement(\"div\",{className:'timeOut'},/*#__PURE__*/React.createElement(\"span\",{className:'timeOutHead'},\"Time Out..!!\"));};var QuizCompleted=function QuizCompleted(){return/*#__PURE__*/React.createElement(\"div\",{className:'quizCompleted'},/*#__PURE__*/React.createElement(\"p\",null,\"You have completed the quiz\"));};//TODO: make sure progress doesn't exceed questions.length-1\nvar GameScreen=function GameScreen(props){var _useState3=useState(props.stateData.progress),_useState4=_slicedToArray(_useState3,2),progress=_useState4[0],setProgress=_useState4[1];var _useState5=useState(props.stateData.questions[progress]),_useState6=_slicedToArray(_useState5,2),question=_useState6[0],setQuestion=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),switchToTimeOut=_useState8[0],setSwitchToTimeOut=_useState8[1];useEffect(function(){var time=setInterval(function(){setSwitchToTimeOut(true);},20000);return function(){clearInterval(time);};},[question,switchToTimeOut]);if(switchToTimeOut){if(progress<=props.stateData.questions.length-1){setInterval(function(){setProgress(progress+1);setQuestion(props.stateData.questions[progress]);setSwitchToTimeOut(false);},4000);return/*#__PURE__*/React.createElement(TimeOut,{questionID:question.questionID});}else{return/*#__PURE__*/React.createElement(QuizCompleted,null);}}if(!switchToTimeOut){return/*#__PURE__*/React.createElement(GameQuestionRenderer,{question:question});}};var DynamicGameArea=function DynamicGameArea(props){var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),startClicked=_useState10[0],setStartClicked=_useState10[1];if(!startClicked){return/*#__PURE__*/React.createElement(\"div\",{className:'gameArea'},/*#__PURE__*/React.createElement(\"p\",{className:'start-text'},\"You are ready to go\"),/*#__PURE__*/React.createElement(\"div\",{className:'start-underLine'}),/*#__PURE__*/React.createElement(\"div\",{className:'button start-button',onClick:function onClick(){return setStartClicked(true);}},\"Start Game\"));}return/*#__PURE__*/React.createElement(GameScreen,{stateData:props.stateData});};export default DynamicGameArea;","map":{"version":3,"sources":["/home/vm/Desktop/quizApp/quizappui/src/components/playComponents/dynamicGameArea.js"],"names":["React","useEffect","useState","useMutation","useQuery","useLazyQuery","axios","gql","Cookies","GameQuestionRenderer","props","questionTimer","setQuestionTimer","classOptionOne","classOptionTwo","classOptionThree","classOptionFour","ID","get","time","setInterval","clearInterval","checkAnswer","response","responseText","questionID","post","progress","then","console","log","catch","err","question","correctOption","backgroundColor","imagePath","optionOne","optionTwo","optionThree","optionFour","TimeOut","QuizCompleted","GameScreen","stateData","setProgress","questions","setQuestion","switchToTimeOut","setSwitchToTimeOut","length","DynamicGameArea","startClicked","setStartClicked"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport {useMutation, useQuery, useLazyQuery} from '@apollo/react-hooks';\nimport axios from 'axios';\nimport gql from 'graphql-tag';\nimport Cookies from 'js-cookie';\nimport './playStart.css';\nimport '../homeComponents/home.css';\n\n\n\n\nconst GameQuestionRenderer = (props) => {\n    const [questionTimer, setQuestionTimer] = useState(20);\n    const classOptionOne = {};\n    const classOptionTwo = {};\n    const classOptionThree = {};\n    const classOptionFour = {};\n    const ID = Cookies.get('user_id');\n\n    useEffect(() => {\n        const time = setInterval(() => {setQuestionTimer(questionTimer-1)}, 1000);\n\n        return (() => clearInterval(time));\n    }, [questionTimer]);\n\n    const checkAnswer = (response, responseText, questionID) => {\n\n        axios.post('https://quizapp-server.herokuapp.com/addresponse', {ID, response, progress :props.questionID})\n            .then(() => console.log('response sent..'))\n            .catch(err => console.log(err));\n\n        switch (response) {\n            case 1:\n                if (responseText === props.question.correctOption) {\n                    classOptionOne.backgroundColor = 'green';\n                }\n                else {\n                    classOptionOne.backgroundColor = 'red';\n                }\n                break;\n            case 2:\n                if (responseText === props.question.correctOption) {\n                    classOptionTwo.backgroundColor = 'green';\n                }\n                else {\n                    classOptionTwo.backgroundColor = 'red';\n                }\n                break;\n            case 3:\n                if (responseText === props.question.correctOption) {\n                    classOptionThree.backgroundColor = 'green';\n                }\n                else {\n                    classOptionThree.backgroundColor = 'red';\n                }\n                break;\n            case 4:\n                if (responseText === props.question.correctOption) {\n                    classOptionFour.backgroundColor = 'green';\n                }\n                else {\n                    classOptionFour.backgroundColor = 'red';\n                }\n                break;\n        }\n    };\n    return (\n            <div>\n                <div className={'questionHeader'}>\n                    <h2 className={'questionTitle'}>Question: </h2>\n                    <div className={'questionTimer'}>{questionTimer}</div>\n                </div>\n                <p className={'questionText'}>{props.question.question}</p>\n                {(props.question.imagePath) ? <img src={props.question.imagePath} className={'questionImage'} /> : null}\n                <div className={'questionOptions'}>\n                    <div style={classOptionOne} onCliclk={() => checkAnswer(1, props.question.optionOne, props.question.questionID)}>{props.question.optionOne}</div>\n                    <div style={classOptionTwo} onClick={() => checkAnswer(2, props.question.optionTwo, props.question.questionID)}>{props.question.optionTwo}</div>\n                    <div style={classOptionThree} onClick={() => checkAnswer(3, props.question.optionThree, props.question.questionID)}>{props.question.optionThree}</div>\n                    <div style={classOptionFour} onClick={() => checkAnswer(4, props.question.optionFour, props.question.questionID)}>{props.question.optionFour}</div>\n                </div>\n            </div>\n    );\n};\n\n\nconst TimeOut = (props) => {\n    const response = 0;\n    const ID = Cookies.get('user_id');\n\n    axios.post('https://quizapp-server.herokuapp.com/addresponse', {ID, response, progress :props.questionID})\n        .then(() => console.log('response sent..'))\n        .catch(err => console.log(err));\n\n    return (\n        <div className={'timeOut'}>\n            <span className={'timeOutHead'}>Time Out..!!</span>\n        </div>\n    );\n};\n\n\nconst QuizCompleted = () => {\n    return (\n        <div className={'quizCompleted'}>\n            <p>You have completed the quiz</p>\n        </div>\n    );\n};\n\n//TODO: make sure progress doesn't exceed questions.length-1\nconst GameScreen = (props) => {\n    const [progress, setProgress] = useState(props.stateData.progress);\n    const [question, setQuestion] = useState(props.stateData.questions[progress]);\n    const [switchToTimeOut, setSwitchToTimeOut] = useState(false);\n\n    useEffect(() => {\n        const time = setInterval(() => {\n            setSwitchToTimeOut(true);\n        }, 20000);\n\n        return (() => {clearInterval(time)});\n    }, [question, switchToTimeOut]);\n\n\n    if (switchToTimeOut){\n        if (progress <= props.stateData.questions.length - 1){\n            setInterval(() => {\n                setProgress(progress + 1);\n                setQuestion(props.stateData.questions[progress]);\n                setSwitchToTimeOut(false);\n            }, 4000);\n            return <TimeOut questionID={question.questionID} />\n        }\n        else {\n            return <QuizCompleted />\n        }\n    }\n    if (!switchToTimeOut){\n        return <GameQuestionRenderer question={question} />\n    }\n};\n\n\nconst DynamicGameArea = (props) => {\n    const [startClicked, setStartClicked] = useState(false);\n    if (!startClicked){\n        return (\n            <div className={'gameArea'}>\n                <p className={'start-text'}>You are ready to go</p>\n                <div className={'start-underLine'}></div>\n                <div className={'button start-button'} onClick={() => setStartClicked(true)}>Start Game</div>\n            </div>\n       );\n    }\n    return <GameScreen stateData = {props.stateData} />;\n};\n\n\nexport default DynamicGameArea;\n"]},"metadata":{},"sourceType":"module"}